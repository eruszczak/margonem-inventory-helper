# https://pythonspeed.com/articles/activate-virtualenv-dockerfile/

FROM python:3.6-slim
ENV PYTHONUNBUFFERED 1

WORKDIR /code

COPY . /code

#RUN source venv/bin/activate   ----> #11 0.108 /bin/sh: 1: source: not found
#RUN . venv/bin/activate --- this did not work in kubernetes - ImportError: Couldn't import Django. Are you sure it's installed and available on your PYTHONPATH environment variable? Did you forget to activate a virtual environment?
ENV VIRTUAL_ENV=/code/venv/bin/activate
ENV PATH="$VIRTUAL_ENV/bin:$PATH"

CMD ["gunicorn margonem.wsgi -b 0.0.0.0:8000 --workers 2"]